
````markdown
# Telegram-–±–æ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –¥–ª—è ¬´–°–±–µ—Ä–ê–≤—Ç–æ–ø–æ–¥–ø–∏—Å–∫–∞¬ª

–°–µ—Ä–≤–∏—Å –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ—Ç, —Å–æ–≤–µ—Ä—à–∏—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ü–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (¬´–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É¬ª –∏–ª–∏ ¬´–ó–∞–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–æ–∫¬ª) –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–µ—Å—Å–∏–∏.

---

## ‚öôÔ∏è –°—Ç–µ–∫ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

- **Python 3.10**
- –ö–ª—é—á–µ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: `scikit-learn`, `pandas`, `joblib`, `python-telegram-bot` –∏ –¥—Ä. (—Å–º. `requirements.txt`)
- –î–≤–µ —Å—Ä–µ–¥—ã:
  - **–õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ** —Ö—Ä–∞–Ω—è—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è:
    - —Å–∫—Ä–∏–ø—Ç—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ (`create_model.py`, `predict_test.py`)
    - –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ Jupyter-–Ω–æ—É—Ç–±—É–∫–æ–≤ (`notebooks/`)
    - –Ω–∞–±–æ—Ä CSV —Å–µ—Å—Å–∏–π –∏ —Ö–∏—Ç–æ–≤ (`data/`)
    - –∏—Ç–æ–≥–æ–≤–∞—è –º–æ–¥–µ–ª—å (`models/final_model.pkl`)
  - **–ù–∞ Replit.com** —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç —Å–∞–º Telegram-–±–æ—Ç —Å–æ –≤—Å–µ–º–∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏:
    - `bot.py`, `api.py`, `predict_test.py` –∏ –ø—Ä.
    - –∫–æ–Ω—Ñ–∏–≥ `.replit` –∏ —Å–µ–∫—Ä–µ—Ç—ã (TOKEN)
    - –ø–∞–ø–∫–∞ `models/` —Å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```text
.
‚îú‚îÄ‚îÄ .replit                   # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ Replit
‚îú‚îÄ‚îÄ api.py                    # –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API (–æ—Ç–ª–∞–¥–∫–∞)
‚îú‚îÄ‚îÄ bot.py                    # –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç Telegram-–±–æ—Ç–∞
‚îú‚îÄ‚îÄ create_model.py           # —Å–±–æ—Ä–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞ –∏ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ predict_test.py           # —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
‚îú‚îÄ‚îÄ requirements.txt          # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ data_analysis.ipynb
‚îÇ   ‚îî‚îÄ‚îÄ model_research.ipynb
‚îú‚îÄ‚îÄ data/                     # –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ ga_sessions.csv
‚îÇ   ‚îî‚îÄ‚îÄ ga_hits.csv
‚îú‚îÄ‚îÄ models/ #–æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
    ‚îî‚îÄ‚îÄ model.pkl
````

---

## üöÄ –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:

   ```bash
   git clone <repo_url>
   cd <repo_folder>
   ```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

   ```bash
   pip install -r requirements.txt
   ```
3. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ: –ø–æ–º–µ—Å—Ç–∏—Ç–µ `ga_sessions.csv` –∏ `ga_hits.csv` –≤ –ø–∞–ø–∫—É `data/`.
4. –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å:

   ```bash
   python create_model.py
   ```
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è:

   ```bash
   python predict_test.py
   ```

---

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Replit.com

1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç Replit.
2. –í —Ä–∞–∑–¥–µ–ª–µ **Secrets** –¥–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á:

   ```
   TELEGRAM_TOKEN = <–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather>
   ```
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ (–∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ) –ø–∞–ø–∫—É `models/` —Å —Ñ–∞–π–ª–æ–º `final_model.pkl`.
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `requirements.txt` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Äî Replit —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
5. –ù–∞–∂–º–∏—Ç–µ **Run** ‚Äî Replit –≤—ã–ø–æ–ª–Ω–∏—Ç –∫–æ–º–∞–Ω–¥—É –∏–∑ `.replit` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞.

> **–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ `.replit`**:
>
> ```ini
> run = "pip install -r requirements.txt && python create_model.py && python bot.py"
> language = "python"
> ```

---

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–æ–¥–µ–ª—å

* –°–∫—Ä–∏–ø—Ç `create_model.py`
  ‚Äì —Å—Ç—Ä–æ–∏—Ç –ø–∞–π–ø–ª–∞–π–Ω (One-Hot, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä.), –≤—ã–±–∏—Ä–∞–µ—Ç –∏ –æ–±—É—á–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º (ROC-AUC ‚â• 0.65), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `models/final_model.pkl`.
* –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –º–æ–¥–µ–ª—å –≤ –ø–∞–º—è—Ç—å, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ \~5 –º—Å.

---

## ü§ñ Telegram-–±–æ—Ç (`bot.py`)

1. –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞:

   ```
   visit_time=45.2; utm_source=google; utm_campaign=spring_sale; ‚Ä¶; geo_city=Warsaw
   ```
2. –ü–∞—Ä—Å–∏—Ç –µ—ë –≤ —Å–ª–æ–≤–∞—Ä—å, –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–µ –∂–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, —á—Ç–æ –∏ –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏.
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å –∏ –≤—ã—á–∏—Å–ª—è–µ—Ç:

   ```python
   proba = model.predict_proba(X)[0, 1]
   label = int(proba > 0.5)
   ```
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

   ```
   –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏: {proba:.2f}
   –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å (0/1): {label}
   ```

### –ö–æ–º–∞–Ω–¥—ã

* `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.
* `/predict` ‚Äî –æ–∂–∏–¥–∞–µ—Ç –≤–≤–æ–¥ `key=value; key2=value2; ‚Ä¶`.

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
–ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç –Ω–µ–≤–µ—Ä–µ–Ω, –±–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç:

```text
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–æ–¥: key=value; key2=value2; ‚Ä¶
```

---

## üìà –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
python predict_test.py
```

---

## üïë –ú–µ—Ç—Ä–∏–∫–∏

* **ROC-AUC ‚â• 0.65**
* **–í—Ä–µ–º—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è** ‚âà 0.005 —Å
* –ú–æ–¥–µ–ª—å –∏ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –µ–¥–∏–Ω–æ–∂–¥—ã –≤ –ø–∞–º—è—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞.

```
```
